# 数组

数组是多个相同类型数据按一定顺序排列的集合,在计算机中是固定长度的一片存储空间,通过索引访问元素,索引从0开始,每一个元素与前一个元素之间的偏移量固定

## 空间占用

- 8 字节 markword
- 4 字节 class指针(压缩指针的情况下)
- 4 字节 数组大小(数组最大容量 2^32)
- 数组元素+对齐字节(Java 中所有对象的大小都是 8 字节的整数倍,不足的部分需要用对齐字节补齐)

## 数组缓存的局部性原理

- CPU 读取内存(速度慢)数据后,会将其放入告诉缓存(速度快)当中,如果后来的计算能再用到此数据,在缓存中能够读到就不用在读取缓存了
- 缓存的最小连续存储单位是缓存行(cache line),一般是 64 bytes,一次读的数据少就不划算,因此必须 64
  bytes填满一个缓存行,因此读入数据时也会读取其临近的数据,这就是所谓的空间局部性
- 这就是不同方式遍历二维数组时,耗时差距很大的原因

## 时间复杂度

- 查找: O(1)
- 修改: O(1)
- 删除: O(n-i)